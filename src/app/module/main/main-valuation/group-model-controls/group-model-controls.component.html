<div class="outer-section" *ngIf="step === 1">
    <div class="outer-wrapper" *ngIf="modelControl.modelValuation.type === 'modelValuation'">
    <!-- <h4 class="card-header" >Company Details</h4> -->
    <div class='c-decorated-header'>
      <h3><span style="padding-left: 2%;">Company Details</span></h3>
      <div class='c-decorated-header_link-view-more'>
      </div>
    </div>
    <form [formGroup]="modelValuation">
        <div class="row">
          <!-- <div class="col-md-12 revalmodel" style="border-top: 1px solid #ccdfe3">
            <mat-label class="label">Company Details</mat-label>
            <span class="mat-bullet"><mat-icon>fiber_manual_record</mat-icon></span>
          </div> -->

            <!-- company -->
         
              <div class="col-md-6 field" style="padding-top: 1%;">
                <div class="material-textfield">
                  <input class="new-inp" placeholder="Add company" type="text" formControlName="company" />
                  <label>Company Name</label>
                  <span class="tool-class">
                    <!-- <svg matTooltip="This are the company details" matTooltipPosition="above" style="color: blue" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 512 512"><title>ionicons-v5-e</title>
                      <path d="M248,64C146.39,64,64,146.39,64,248s82.39,184,184,184,184-82.39,184-184S349.61,64,248,64Z" style="fill:none;stroke:#6200ee;stroke-miterlimit:10;stroke-width:32px" 
                      fill="#ff0000"></path><polyline points="220 220 252 220 252 336" style="fill:none;stroke:#6200ee;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px">
                      </polyline><line x1="208" y1="340" x2="296" y2="340" style="fill:none;stroke:#6200ee;stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px">

                    </line><path d="M248,130a26,26,0,1,0,26,26A26,26,0,0,0,248,130Z" fill="#ff0000"></path></svg> -->

                    <svg matTooltip="This are the company details" matTooltipPosition="above" style="color: 6200ee" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 256 256"><rect  fill="none"></rect>
                      <circle cx="128" cy="128" r="96" fill="none" stroke="#6200ee" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></circle>
                      <polyline points="120 124 128 124 128 176 136 176" fill="none" stroke="#6200ee" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline>
                      <circle cx="126" cy="84" r="16" fill="#6200ee"></circle></svg>
                  </span>
                </div>
                <span *ngIf="modelValuation.controls['company'].touched && modelValuation.controls['company'].errors">
                  <span *ngIf="hasError('company','required',modelValuation)" class="error-text">Please enter company name</span>
                </span>
              </div>
            
                <!--valuation date  -->
                <div class="col-md-6 field" style="padding-top: 1%;">
                    <div class="material-textfield">
                      <input class="new-inp" formControlName="valuationDate" [placeholder]="modelControl.modelValuation.options.valuationDate.placeholder" type="date" />
                      <label>Valuation Date</label>
                    </div>
                    <span *ngIf="modelValuation.controls['valuationDate'].touched && modelValuation.controls['valuationDate'].errors">
                      <span *ngIf="hasError('valuationDate','required',modelValuation)" class="error-text">Please select valuation date</span>
                    </span>
                </div>

                <!-- Reporting unit -->
                <div class="col-md-6 field">
                  <div class="material-textfield">
                    <select id="reportingUnit" class="new-inp" formControlName="reportingUnit">
                      <option value="" disabled selected>Select reporting unit</option>
                      <option *ngFor="let doc of modelControl.reportDetails.options.reportingUnit"  [value]="doc.value">{{ doc.name }}</option>
                    </select>
                    <label for="reportingUnit">Units</label>
                  </div>
                  <span *ngIf="modelValuation.controls['reportingUnit'].touched && modelValuation.controls['reportingUnit'].errors">
                    <span *ngIf="hasError('reportingUnit','required',modelValuation)" class="error-text">Please select reporting unit</span>
                  </span>
              </div>

              <!-- currency unit -->
              <div class="col-md-6 field">
                <div class="material-textfield">
                  <select id="currencyUnit" class="new-inp" formControlName="currencyUnit">
                    <option value="" disabled selected>Select currency</option>
                    <option *ngFor="let doc of modelControl.reportDetails.options.currencyUnit"  [value]="doc.value">{{ doc.name }}</option>
                  </select>
                  <label for="currencyUnit">Currency</label>
                </div>
                <span *ngIf="modelValuation.controls['currencyUnit'].touched && modelValuation.controls['currencyUnit'].errors">
                  <span *ngIf="hasError('currencyUnit','required',modelValuation)" class="error-text">Please select currency unit</span>
                </span>
            </div>

                <!-- location -->
                <div class="col-md-6 field">
                    <div class="material-textfield">
                      <input class="new-inp"  formControlName="location" [type]="modelControl.modelValuation.options.location.type" [placeholder]="modelControl.modelValuation.options.location.placeholder"/>
                      <label>Location</label>
                    </div>
                    <span *ngIf="modelValuation.controls['location'].touched && modelValuation.controls['location'].errors">
                      <span *ngIf="hasError('location','required',modelValuation)" class="error-text">Please enter location</span>
                    </span>
                </div>
    
                <!--industry  -->
                <div class="col-md-6 field" *ngIf="isNotRuleElevenUa()">
                    <div class="material-textfield">
                      <select id="industry" class="new-inp" formControlName="industry">
                        <option value="" disabled selected>{{ modelControl.modelValuation.options.industry.placeholder }}</option>
                        <option *ngFor="let doc of industries" [ngValue]="doc.industry">{{ doc.industry }}</option>
                      </select>
                      <label for="industry">Industry</label>
                    </div>
                    <span *ngIf="modelValuation.controls['industry'].touched && modelValuation.controls['industry'].errors">
                      <span *ngIf="hasError('industry','required',modelValuation)" class="error-text">Please select industry</span>
                    </span>
                </div>

                <!--industry  cia industry-->
                <!-- <div class="col-md-6 field">
                  <div class="material-textfield">
                    <select id="industry" class="new-inp" formControlName="industry">
                      <option value="" disabled selected>{{ modelControl.modelValuation.options.industry.placeholder }}</option>
                      <option *ngFor="let doc of industries" [ngValue]="doc.GICSDescriptor">{{ doc.GICSDescriptor }}</option>
                    </select>
                    <label for="industry">Industry</label>
                  </div>
                  <span *ngIf="modelValuation.controls['industry'].touched && modelValuation.controls['industry'].errors">
                    <span *ngIf="hasError('industry','required',modelValuation)" class="error-text">Please select industry</span>
                  </span>
              </div> -->

                <!-- outstanding shares -->
                <div class="col-md-6 field" >
                      <div class="material-textfield">
                        <input class="new-inp" [type]="modelControl.modelValuation.options.outstandingShares.type"  formControlName="outstandingShares" [placeholder]="modelControl.modelValuation.options.outstandingShares.placeholder"/>
                        <label>Outstanding Shares</label>
                  </div>
                  <span *ngIf="modelValuation.controls['outstandingShares'].touched && modelValuation.controls['outstandingShares'].errors">
                    <span *ngIf="hasError('outstandingShares','required',modelValuation)" class="error-text">Please enter outstanding shares</span>
                  </span>
              </div>

              <!-- sub-industry -->
                <div class="col-md-6 field"  *ngIf="modelValuation.controls['industry'].value && selectedIndustry?.industry &&  subIndustries.length > 0 && isNotRuleElevenUa()">
                      <div class="material-textfield">
                        <select id="subIndustry" class="new-inp" #subIndustryVal (change)="subIndustryChange(subIndustryVal.value)" formControlName="subIndustry">
                          <option value="" disabled selected>Select sub-industry</option>
                          <option *ngFor="let doc of subIndustries"  [ngValue]="doc._id">{{doc.subIndustry}}</option>
                        </select>
                        <label for="subIndustry">Sub-Industry</label>
                      </div>
                      <span *ngIf="modelValuation.controls['subIndustry'].touched && modelValuation.controls['subIndustry'].errors">
                        <span *ngIf="hasError('subIndustry','required',modelValuation)" class="error-text">Please select sub-industry</span>
                      </span>
                </div>

                <!-- tax rate -->
                <div class="col-md-6 field" *ngIf="isNotRuleElevenUa()">
                    <div class="material-textfield">
                      <select id="subIndustry" class="new-inp"formControlName="taxRateType" (change)="onTaxRateChange($event)">
                        <option value="25.17" selected>Default</option>
                        <option *ngFor="let doc of taxRate" [value]="doc.type">{{doc.label}}</option>
                      </select>
                      <label for="subIndustry">Tax Rate</label>
                      <mat-hint *ngIf="taxRateModelBox" class="taxrate-hint">Tax rate is {{taxRateModelBox}}%</mat-hint>
                    </div>
                </div>            
            </div>
      </form>   
    </div>

    <div class="row" style="padding-bottom: 1%;padding-top: 2%;">
      <div class="col-xl-6">
        <div style="padding-left: 4%;text-align: left;" class="container">
          <button (click)="selectValuation()" [ngClass]="modelSelectStatus ? 'model-button' : 'show-button-grad'" mat-raised-button>
              Select Valuation Model
           </button>
           <span *ngIf="!modelSelectStatus" class="error-text">Please select valuation model</span>
          </div>
      </div>
      <div class="col-xl-12" style="padding-left: 2%;padding-right: 3%;padding-top: 1%;" *ngIf="modelValuation.controls['model'].value.length > 0">
        <div class="chip-container">
          <div class="chip" *ngFor="let indModel of modelValuation.controls['model'].value" style="padding-left: 2%;padding-right: 7%;padding-top: 2%;padding-bottom: 2%;">
            {{ allModels[indModel] }}
            <span class="icon-container">
              <mat-icon>done_all</mat-icon>
            </span>
            <span class="close-btn" (click)="removeTag(indModel)">&times;</span>
          </div>
        </div>
      </div>
      <div class="col-xl-12" *ngIf="fileName" style="padding-top: 1%;">
        <div class="filename-container" >
          <div class="title">Uploaded filename:</div>
          <span class="filename">{{fileName}}</span>
        </div>
      </div>
      <div [ngClass]="fileName || modelValuation.controls['model'].value.length > 0 ? 'col-xl-12' : 'col-xl-6'">
        <div style="padding-bottom: 2%;" [ngStyle]="(fileName || modelValuation.controls['model'].value.length > 0) ? { 'padding-right': '2%', 'text-align': 'right' } : { 'padding-right': '4%', 'text-align': 'right' }" class="container">
          <button (click)="saveAndNext()" [ngClass]="fileName || modelValuation.controls['model'].value.length > 0 ? 'button-resave-mat' : 'button-save-mat'" mat-raised-button>
              Next
              <span class="button-save"><mat-icon style="font-weight: bold;color: #ffffff;">send</mat-icon></span>
           </button>
          </div>
      </div>
    </div>
</div>
