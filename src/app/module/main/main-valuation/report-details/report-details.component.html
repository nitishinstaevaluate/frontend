<div class="outer-wrapper" *ngIf="modelControl.reportDetails.type === 'reportDetails'">
    <h4 class="card-header">{{modelControl.reportDetails.header}}</h4>
    <form [formGroup]="reportForm">
        <div class="row" >
            <!-- <div class="col-md-12 revalmodel">
                <mat-label class="label" >Report Generation Date</mat-label>
                <span class="mat-bullet"><mat-icon>fiber_manual_record</mat-icon></span>
            </div> -->

                <!-- report prepared by -->
                <!-- <div class="col-md-4 field">
                    <mat-form-field class="full-width-input mat-relative-val" [floatLabel]="floatLabelType">
                        <mat-label>Client's Name</mat-label>
                        <input formControlName="clientName" matInput>
                    </mat-form-field>
                </div> -->


                <!-- date of report -->
                <div class="col-md-4 field">
                    <mat-form-field class="full-width-input mat-relative-val" [floatLabel]="floatLabelType">
                      <mat-label>Date Of Report</mat-label>  
                      <input formControlName="reportDate" matInput [matDatepicker]="picker">
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="col-md-12 revalmodel" style="border-top: 1px solid #ccdfe3">
                    <mat-label class="label" >Appointment Details</mat-label>
                    <span class="mat-bullet"><mat-icon>fiber_manual_record</mat-icon></span>
                </div>
                <div class="col-md-4 field">
                    <mat-form-field class="full-width-input mat-relative-val" [floatLabel]="floatLabelType">
                        <mat-label>Name of Appointing Authority</mat-label>
                        <!-- <mat-select class="mat-select-value">
                            <mat-option *ngFor="let doc of modelControl.reportDetails.options.reportData"  [value]="doc.value">{{doc.name}}</mat-option>
                        </mat-select> -->
                        <input formControlName="appointingAuthorityName" matInput>
                        <!-- [type]="modelControl.modelValuation.options.company.type"  -->
                        
                    </mat-form-field>
                </div>

                <div class="col-md-4 field">
                    <mat-form-field class="full-width-input mat-relative-val" [floatLabel]="floatLabelType">
                      <mat-label>Date Of Appointment</mat-label>  
                      <input formControlName="dateOfAppointment" matInput [matDatepicker]="appointmentDate">
                        <mat-datepicker-toggle matIconSuffix [for]="appointmentDate"></mat-datepicker-toggle>
                        <mat-datepicker #appointmentDate></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="col-md-4 field"></div>


                <div class="col-md-12 revalmodel" style="border-bottom: 1px solid #ccdfe3;padding-top: 0%;">
                    <mat-label class="label" style="font-size: 15px;">Registered Valuer Details</mat-label>
                    <mat-slide-toggle
                        class="example-margin"
                        [color]="'primary'"
                        style="transform: scale(0.7);"
                        formControlName="useExistingValuer"
                        (change)="onSlideToggleChange($event)">
                    </mat-slide-toggle>
                </div>

                <!-- <div class="col-md-12 revalmodel" style="border-top: 1px solid #ccdfe3">
                    <mat-label class="label" >Purpose Of Report</mat-label>
                    <span class="mat-bullet"><mat-icon>fiber_manual_record</mat-icon></span>
                </div> -->

                <div class="col-md-4 field" style="padding-top: 1%;">
                    <mat-form-field class="full-width-input mat-relative-val" [floatLabel]="floatLabelType" >
                        <mat-label>Purpose Of Report</mat-label>
                        <mat-select class="mat-select-value" formControlName="reportPurpose">
                        <mat-option *ngFor="let doc of modelControl.reportDetails.options.reportPurpose"  [value]="doc.value">{{doc.name}}</mat-option>
                    </mat-select>
                      </mat-form-field>
                </div>

                <div class="col-md-8">
                    <div class="row">
                        <div *ngIf="shouldShowReportPurpose" style="padding-top: 1%;" [ngClass]="reportForm.controls['reportPurpose'].value !== 'companiesAct' ? 'col-md-10 field' : 'col-md-8 field'">
                            <mat-form-field class="full-width-input mat-relative-val" [floatLabel]="floatLabelType" >
                                <mat-label>Section/Regulation Reference</mat-label>
                                <mat-select class="mat-select-value" formControlName="reportSection" multiple>
                                <!-- <mat-option *ngFor="let doc of modelControl.reportDetails.options.reportPurpose"  [value]="doc.value" >{{doc.name}}</mat-option> -->
                                <mat-option *ngFor="let purpose of reportPurposeData"  [value]="purpose.section + ' - ' + purpose.Description" >{{purpose.section}} - {{purpose.Description}}</mat-option>
                            </mat-select>
                              </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 field" style="padding-top: 1%;">
                    <mat-form-field class="full-width-input mat-relative-val" [floatLabel]="floatLabelType" >
                        <mat-label>Nature Of Instrument</mat-label>
                        <mat-select class="mat-select-value" formControlName="natureOfInstrument">
                        <mat-option *ngFor="let doc of modelControl.reportDetails.options.natureOfInstrument"  [value]="doc.value">{{doc.name}}</mat-option>
                    </mat-select>
                      </mat-form-field>
                </div>
                

                

                <!-- <div class="col-md-12 revalmodel" style="border-top: 1px solid #ccdfe3" *ngIf="reportObjective">
                    <mat-label class="label" >{{reportObjective}}</mat-label>
                    <span class="mat-bullet"><mat-icon>fiber_manual_record</mat-icon></span>
                </div> -->
                <!-- <div class="container-fluid" style="padding-top: 1%;" [ngClass]="{'fade-in-table': shouldShowReportPurpose, 'fade-in-table-visible': shouldShowReportPurpose}">
                    <table *ngIf="shouldShowReportPurpose">
                        <thead>
                          <tr>
                            <th>Sr No</th>
                            <th>Section</th>
                            <th>Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let purpose of reportPurposeData">
                            <td>{{ purpose.srNo }}</td>
                            <td>{{ purpose.section }}</td>
                            <td>{{ purpose.Description }}</td>
                          </tr>
                        </tbody>
                      </table>      
                </div> -->

            <div class="col-md-12" style="text-align: center;padding-bottom: 2%;padding-top: 12;">
                <button (click)="previous()" mat-raised-button style="box-shadow: 1px 2px 15px #d1d1d1;color:#bb0d0d;font-weight: bold !important;margin-right: 1%;">
                    Back
                    <mat-icon>arrow_left</mat-icon>
                </button>
                <button (click)="previewReport()"  style="box-shadow: 1px 2px 15px #d1d1d1;color:#228822;margin-right: 1%"  mat-raised-button>
                    Preview Report
                <mat-icon style="font-weight: bold;color: green;">send</mat-icon>
                </button> 
                <button (click)="generateReport()"  style="box-shadow: 1px 2px 15px #d1d1d1;color:#228822;margin-right: 1%"  mat-raised-button>
                    Generate Report
                <mat-icon style="font-weight: bold;color: green;">send</mat-icon>
                </button> 
        </div>
        </div>
      </form>  
</div>

<div class="loader-overlay" *ngIf="isLoading">
    <div class="loader">
      <div class="loader-spinner"></div>
      <div class="loader-message loading-text">Generating Report</div>
    </div>
  </div>
